<ion-header>
	<ion-toolbar>
		<ion-title>Create Profile</ion-title>
		<ion-buttons slot="end">
			<ion-button (click)="dismissModal()">
				<ion-icon slot="icon-only" name="close"></ion-icon>
			</ion-button>
		</ion-buttons>
	</ion-toolbar>
</ion-header>

<ion-content padding>
	<form [formGroup]="profileForm" padding>
		<ion-label position="stacked">{{content.labels.profileName}}</ion-label>
		<input type="number" pattern="/^-?\d+\.?\d*$/" onKeyPress="if(this.value.length===2) return false;" />

		<ion-item>
			<ion-input formControlName="profileName"></ion-input>
		</ion-item>
		<ion-label position="stacked">{{content.labels.mainTimer}}:</ion-label>
		<ion-item formGroupName="mainTimeGroup" class="main-timer">
				<ion-input placeholder="Hours" type="number" formControlName="h" max="24"></ion-input>
				<ion-input placeholder="Minutes" type="number" formControlName="m" max="60"></ion-input>
				<ion-input placeholder="Seconds" type="number" formControlName="s" max="60"></ion-input>
		</ion-item>

		<ion-label>{{content.labels.subtimer	}}:</ion-label>
		<div formArrayName="subTimeGroup">
			<ion-item *ngFor="let subtime of subtimeForm.controls; let i=index" [formGroupName]="i">
				<ion-input placeholder="Hours" type="number" formControlName="h" max="2"></ion-input>
				<ion-input placeholder="Minutes" type="number" formControlName="m" max="2"></ion-input>
				<ion-input placeholder="Seconds" type="number" formControlName="s" max="2"></ion-input>
				<ion-button (click)="deleteSubtimeForm()">Delete</ion-button>
			</ion-item>
		</div>
		<ion-button (click)="addNewSubtimer()">Add New</ion-button>
	</form>
	<ion-button (click)="saveProfile()" expand="full">{{content.labels.save}}</ion-button>
</ion-content>